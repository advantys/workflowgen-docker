jobs:
- strategy:
    matrix:
      "7.15":
        WINDOWS_SERVER_VERSION: ltsc2016
        WFGEN_VERSION_FOLDER: "7.15"
        WFGEN_VERSION: 7.15.0
      "7.14":
        WINDOWS_SERVER_VERSION: ltsc2016
        WFGEN_VERSION_FOLDER: "7.14"
        WFGEN_VERSION: 7.14.6
  steps:
  - template: scripts/steps/build-images.yml
  job: Buildltsc2016
  pool:
    demands: Container.Windows.Version -equals ltsc2016
    name: Docker
  displayName: Build WorkflowGen's Images (ltsc2016)
- strategy:
    matrix:
      "7.15":
        WINDOWS_SERVER_VERSION: ltsc2019
        WFGEN_VERSION_FOLDER: "7.15"
        WFGEN_VERSION: 7.15.0
        ADDITIONAL_TAGS: latest, 7, 7.15, 7.15.0
      "7.14":
        WINDOWS_SERVER_VERSION: ltsc2019
        WFGEN_VERSION_FOLDER: "7.14"
        WFGEN_VERSION: 7.14.6
        ADDITIONAL_TAGS: 7.14, 7.14.6
  steps:
  - template: scripts/steps/build-images.yml
  job: Buildltsc2019
  pool:
    demands: Container.Windows.Version -equals ltsc2019
    name: Docker
  displayName: Build WorkflowGen's Images (ltsc2019)
trigger:
  branches:
    include:
    - master

trigger:
  branches:
    include:
      - master

jobs:
  - job: Buildltsc2016
    displayName: Build WorkflowGen's Images (ltsc2016)
    pool:
      name: Docker
      demands: Container.Windows.Version -equals ltsc2016
    strategy:
      matrix:
        7.14:
          WFGEN_VERSION_FOLDER: 7.14
          WFGEN_VERSION: 7.14.5
          WINDOWS_SERVER_VERSION: ltsc2016
    steps:
      - template: scripts/steps/build-images.yml
  - job: Buildltsc2019
    displayName: Build WorkflowGen's Images (ltsc2019)
    pool:
      name: Docker
      demands: Container.Windows.Version -equals ltsc2019
    strategy:
      matrix:
        7.14:
          WFGEN_VERSION_FOLDER: 7.14
          WFGEN_VERSION: 7.14.5
          WINDOWS_SERVER_VERSION: ltsc2019
    steps:
      - template: scripts/steps/build-images.yml
